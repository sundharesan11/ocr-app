<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedScan | Medical Document Digitizer</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Markdown parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>
    <!-- Mobile Header -->
    <header class="mobile-header">
        <button class="menu-toggle" id="menuToggle">
            <span class="menu-icon">‚ò∞</span>
        </button>
        <h1 class="header-title" id="pageTitle">MedScan</h1>
        <button class="notification-btn" id="notificationBtn">
            <span class="notification-icon">üîî</span>
        </button>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="brand">
                <span class="brand-name">MedScan</span>
            </div>
        </div>

        <nav class="sidebar-nav">
            <a href="#" class="nav-item active" data-section="home">
                <span class="nav-text">Home</span>
            </a>
            <a href="#" class="nav-item" data-section="digitize">
                <span class="nav-text">Digitize Form</span>
            </a>
            <a href="#" class="nav-item" data-section="overlay">
                <span class="nav-text">Form Overlay</span>
            </a>
        </nav>
    </aside>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Main Content -->
    <div class="main-wrapper">
        <!-- Content Area -->
        <main class="content">
            <!-- Home Section -->
            <section class="section active" id="homeSection">
                <!-- Badge -->
                <div class="healthcare-badge">
                    <span class="badge-label">HEALTHCARE AI</span>
                </div>

                <!-- Hero -->
                <div class="hero">
                    <div class="hero-content">
                        <h1 class="hero-title">
                            Transform
                            <span class="gradient-text">Healthcare Data</span>
                            with AI
                        </h1>
                        <p class="hero-subtitle">
                            Digitize medical forms into structured data in seconds with enterprise-grade security.
                        </p>
                        <button class="btn btn-primary btn-cta" onclick="showSection('digitize')">
                            <span class="btn-icon">üìã</span>
                            <span>Start Digitizing</span>
                        </button>
                    </div>
                    <div class="hero-visual">
                        <div class="hero-card">
                            <div class="scan-animation">
                                <div class="scan-line"></div>
                            </div>
                            <div class="form-preview">
                                <div class="form-field"></div>
                                <div class="form-field"></div>
                                <div class="form-field short"></div>
                                <div class="form-field"></div>
                                <div class="form-field short"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Capabilities Section -->
                <div class="capabilities-section">
                    <div class="capabilities-header">
                        <h2 class="capabilities-title">CAPABILITIES</h2>
                        <a href="#" class="view-all-link">View all</a>
                    </div>
                    <div class="capabilities-grid">
                        <div class="capability-card">
                            <div class="capability-icon lightning">‚ö°</div>
                            <h3 class="capability-title">Lightning Fast</h3>
                            <p class="capability-desc">Sub-second OCR processing.</p>
                        </div>
                        <div class="capability-card">
                            <div class="capability-icon accuracy">‚úì</div>
                            <h3 class="capability-title">High Accuracy</h3>
                            <p class="capability-desc">99.9% extraction precision.</p>
                        </div>
                        <div class="capability-card">
                            <div class="capability-icon structured">üìã</div>
                            <h3 class="capability-title">Structured Output</h3>
                            <p class="capability-desc">Organized PDFs with form structure.</p>
                        </div>
                        <div class="capability-card">
                            <div class="capability-icon hipaa">üõ°Ô∏è</div>
                            <h3 class="capability-title">HIPAA Ready</h3>
                            <p class="capability-desc">Built for healthcare compliance.</p>
                        </div>
                    </div>
                </div>

                <!-- Stats Banner -->
                <div class="stats-banner">
                    <div class="stat-item">
                        <span class="stat-value">1.2M+</span>
                        <span class="stat-label">Documents processed this month</span>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <span class="stat-value">98%</span>
                        <span class="stat-label">Time saved on average</span>
                    </div>
                </div>
            </section>

            <!-- Digitize Section -->
            <section class="section" id="digitizeSection">
                <div class="section-header">
                    <h2 class="section-title">Digitize New Document</h2>
                    <p class="section-subtitle">Upload medical records, prescriptions, or lab results for AI-powered OCR
                        analysis.</p>
                </div>

                <!-- Main Upload Container -->
                <div class="upload-container" id="uploadContainer">
                    <!-- Left: Dropzone -->
                    <div class="dropzone-wrapper">
                        <div class="dropzone" id="dropzone">
                            <div class="dropzone-icon">
                                <span class="folder-icon">üìÅ</span>
                                <span class="upload-arrow-icon">‚¨Ü</span>
                            </div>
                            <p class="dropzone-text">Drag and drop files here</p>
                            <p class="dropzone-divider">- OR -</p>
                            <button class="btn btn-browse" type="button">Browse Files</button>
                            <input type="file" id="fileInput" accept=".pdf,.jpg,.jpeg,.png" hidden>
                        </div>
                    </div>

                    <!-- Right: Uploaded Files -->
                    <div class="uploaded-files-wrapper">
                        <h3 class="uploaded-files-title">Uploaded Files</h3>
                        <div class="uploaded-files-list" id="uploadedFilesList">
                            <!-- Files will be added here dynamically -->
                            <div class="uploaded-file-empty" id="uploadedFileEmpty">
                                <p>No files uploaded yet</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- File Info (shown after file selected) -->
                <div class="card file-card hidden" id="fileCard">
                    <div class="file-info">
                        <div class="file-icon">
                            <span class="pdf-icon">üìÑ</span>
                        </div>
                        <div class="file-details">
                            <span class="file-name" id="fileName">document.pdf</span>
                            <span class="file-meta" id="fileSize">2.1 MB ‚Ä¢ Ready to process</span>
                        </div>
                        <button class="btn btn-remove" id="removeFile" title="Remove file">
                            <span>‚úï</span>
                        </button>
                    </div>
                    <div class="file-progress-bar">
                        <div class="file-progress-fill" id="fileProgressFill"></div>
                    </div>
                </div>

                <!-- Process Button -->
                <button class="btn btn-primary btn-process hidden" id="processBtn">
                    <span class="btn-icon">‚ú®</span>
                    <span>Start AI Digitization</span>
                </button>

                <!-- HIPAA Disclaimer -->
                <p class="hipaa-disclaimer hidden" id="hipaaDisclaimer">
                    By uploading, you confirm this document adheres to HIPAA privacy standards and our Terms of Service.
                </p>

                <!-- Processing -->
                <div class="card processing-card hidden" id="processingCard">
                    <div class="processing-visual">
                        <div class="document-scan">
                            <div class="scan-document">
                                <div class="scan-icon">üîç</div>
                            </div>
                            <div class="scan-beam"></div>
                        </div>
                    </div>
                    <div class="processing-content">
                        <h3 class="processing-title">Extracting text with OCR...</h3>
                        <p class="processing-status" id="processingStatus">AI is analyzing your document for medical
                            data extraction</p>
                    </div>
                    <div class="progress-container">
                        <span class="progress-label">Extraction Progress</span>
                        <span class="progress-percent" id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <!-- Result with Preview -->
                <div class="card result-card hidden" id="resultCard">
                    <div class="result-header">
                        <span class="result-icon">‚úì</span>
                        <h3 class="result-title">Extraction Complete</h3>
                    </div>

                    <!-- Preview Tabs -->
                    <div class="preview-container">
                        <div class="preview-tabs">
                            <button class="preview-tab active" data-tab="markdown">Markdown</button>
                            <button class="preview-tab" data-tab="pdf">PDF Original</button>
                        </div>
                        <div class="preview-content">
                            <div class="result-meta">
                                <span class="result-type">CLINICAL NOTE</span>
                                <button class="copy-btn" id="copyBtn" title="Copy to clipboard">üìã</button>
                            </div>
                            <p class="result-timestamp" id="resultTimestamp">Extracted at --:-- PM</p>
                            <div id="markdownPreview" class="markdown-preview"></div>
                            <iframe id="pdfPreview" class="pdf-preview hidden"></iframe>
                        </div>
                    </div>

                    <div class="result-actions">
                        <button class="btn btn-primary btn-new" id="newUploadBtn">
                            <span class="btn-icon">+</span>
                            <span>Process Another</span>
                        </button>
                        <a class="btn btn-outline btn-download" id="downloadBtn" href="#" download>
                            <span class="btn-icon">‚¨á</span>
                            <span>Download PDF</span>
                        </a>
                    </div>
                </div>

                <!-- Error -->
                <div class="card error-card hidden" id="errorCard">
                    <div class="error-content">
                        <span class="error-icon">‚ö†Ô∏è</span>
                        <h3>Processing Failed</h3>
                        <p id="errorMessage">An error occurred while processing your document.</p>
                    </div>
                    <button class="btn btn-secondary" id="retryBtn">Try Again</button>
                </div>

                <!-- OCR Tips -->
                <div class="ocr-tips" id="ocrTips">
                    <h4 class="tips-title">OCR Tips for Best Results</h4>
                    <div class="tip-item">
                        <span class="tip-icon">‚úì</span>
                        <span class="tip-text">Ensure text is clear and well-lit.</span>
                    </div>
                    <div class="tip-item">
                        <span class="tip-icon">‚úì</span>
                        <span class="tip-text">Avoid shadows or excessive glare on papers.</span>
                    </div>
                </div>
            </section>

            <!-- Overlay Section -->
            <section class="section" id="overlaySection">
                <div class="section-header">
                    <h2 class="section-title">Form Overlay</h2>
                    <p class="section-subtitle">Fill existing PDF templates with extracted data</p>
                </div>

                <div class="card coming-soon-card">
                    <div class="coming-soon-content">
                        <h3>Coming Soon</h3>
                        <p>This feature is currently under development.</p>
                        <ul class="feature-list">
                            <li>Upload a blank PDF template</li>
                            <li>Extract data from a filled form</li>
                            <li>Overlay extracted data onto the template</li>
                        </ul>
                        <div class="coming-soon-cta">
                            <button class="btn btn-outline" onclick="showSection('digitize')">
                                Try Digitize Feature
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="/static/app.js"></script>
</body>

</html>