<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedScan | Medical Document Digitizer</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Markdown parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="brand">
                <span class="brand-name">MedScan</span>
            </div>
        </div>

        <nav class="sidebar-nav">
            <a href="#" class="nav-item active" data-section="home">
                <span class="nav-text">Home</span>
            </a>
            <a href="#" class="nav-item" data-section="digitize">
                <span class="nav-text">Digitize Form</span>
            </a>
            <a href="#" class="nav-item" data-section="overlay">
                <span class="nav-text">Form Overlay</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <div class="main-wrapper">
        <!-- Topbar -->
        <header class="topbar">
            <button class="menu-toggle" id="menuToggle">☰</button>
            <div class="topbar-title">
                <span id="pageTitle">Welcome</span>
            </div>
        </header>

        <!-- Content Area -->
        <main class="content">
            <!-- Home Section -->
            <section class="section active" id="homeSection">
                <div class="hero">
                    <div class="hero-content">
                        <div class="hero-badge">Healthcare AI</div>
                        <h1 class="hero-title">
                            Transform Medical Forms
                            <span class="gradient-text">In Seconds</span>
                        </h1>
                        <p class="hero-subtitle">
                            Digitize handwritten patient intake forms instantly with AI-powered OCR.
                            No more manual data entry.
                        </p>
                        <div class="hero-actions">
                            <button class="btn btn-primary btn-lg" onclick="showSection('digitize')">
                                <span>Start Digitizing</span>
                                <span class="btn-arrow">→</span>
                            </button>
                        </div>
                    </div>
                    <div class="hero-visual">
                        <div class="hero-card">
                            <div class="scan-animation">
                                <div class="scan-line"></div>
                            </div>
                            <div class="form-preview">
                                <div class="form-field"></div>
                                <div class="form-field"></div>
                                <div class="form-field short"></div>
                                <div class="form-field"></div>
                                <div class="form-field short"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="features">
                    <div class="feature-card">
                        <h3>Lightning Fast</h3>
                        <p>Process 14-page forms in 6 seconds</p>
                    </div>
                    <div class="feature-card">
                        <h3>High Accuracy</h3>
                        <p>AI-powered OCR ensures precision</p>
                    </div>
                    <div class="feature-card">
                        <h3>Structured Output</h3>
                        <p>Organized PDFs with form structure</p>
                    </div>
                    <div class="feature-card">
                        <h3>HIPAA Ready</h3>
                        <p>Built for healthcare compliance</p>
                    </div>
                </div>
            </section>

            <!-- Digitize Section -->
            <section class="section" id="digitizeSection">
                <div class="section-header">
                    <h2>Digitize Medical Form</h2>
                    <p>Upload a scanned form and preview the extracted content</p>
                </div>

                <!-- Upload Card -->
                <div class="card upload-card" id="uploadCard">
                    <div class="dropzone" id="dropzone">
                        <div class="dropzone-content">
                            <h3>Drag & drop your form here</h3>
                            <p>or click to browse files</p>
                            <span class="file-types">PDF, JPG, PNG</span>
                        </div>
                        <input type="file" id="fileInput" accept=".pdf,.jpg,.jpeg,.png" hidden>
                    </div>
                </div>

                <!-- File Info -->
                <div class="card file-card hidden" id="fileCard">
                    <div class="file-info">
                        <div class="file-details">
                            <span class="file-name" id="fileName">document.pdf</span>
                            <span class="file-size" id="fileSize">2.1 MB</span>
                        </div>
                        <button class="btn btn-remove" id="removeFile" title="Remove file">✕</button>
                    </div>
                    <button class="btn btn-primary" id="processBtn">
                        Process Document
                    </button>
                </div>

                <!-- Processing -->
                <div class="card processing-card hidden" id="processingCard">
                    <div class="processing-content">
                        <div class="spinner"></div>
                        <h3>Processing your document...</h3>
                        <p id="processingStatus">Extracting text with OCR</p>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <!-- Result with Preview -->
                <div class="card result-card hidden" id="resultCard">
                    <div class="result-header">
                        <h3>Document Digitized</h3>
                        <p id="resultInfo">14 pages processed</p>
                    </div>

                    <!-- Preview Tabs -->
                    <div class="preview-container">
                        <div class="preview-tabs">
                            <button class="preview-tab active" data-tab="markdown">Markdown</button>
                            <button class="preview-tab" data-tab="pdf">PDF Preview</button>
                        </div>
                        <div class="preview-content">
                            <div id="markdownPreview" class="markdown-preview"></div>
                            <iframe id="pdfPreview" class="pdf-preview hidden"></iframe>
                        </div>
                    </div>

                    <div style="margin-top: 1rem;">
                        <a class="btn btn-download" id="downloadBtn" href="#" download>
                            Download PDF
                        </a>
                        <button class="btn btn-secondary" id="newUploadBtn">
                            Process Another
                        </button>
                    </div>
                </div>

                <!-- Error -->
                <div class="card error-card hidden" id="errorCard">
                    <div class="error-content">
                        <h3>Processing Failed</h3>
                        <p id="errorMessage">An error occurred while processing your document.</p>
                    </div>
                    <button class="btn btn-secondary" id="retryBtn">Try Again</button>
                </div>
            </section>

            <!-- Overlay Section -->
            <section class="section" id="overlaySection">
                <div class="section-header">
                    <h2>Form Overlay</h2>
                    <p>Fill existing PDF templates with extracted data</p>
                </div>

                <div class="card coming-soon-card">
                    <div class="coming-soon-content">
                        <h3>Coming Soon</h3>
                        <p>This feature is currently under development.</p>
                        <ul class="feature-list">
                            <li>Upload a blank PDF template</li>
                            <li>Extract data from a filled form</li>
                            <li>Overlay extracted data onto the template</li>
                        </ul>
                        <div class="coming-soon-cta">
                            <button class="btn btn-outline" onclick="showSection('digitize')">
                                Try Digitize Feature
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="/static/app.js"></script>
</body>

</html>